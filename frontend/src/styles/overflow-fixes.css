/* Overflow and Scrolling Fixes */

/* ===== GLOBAL OVERFLOW PREVENTION ===== */

/* Prevent horizontal scrolling at root level */
html {
  overflow-x: hidden !important;
  scroll-behavior: smooth;
}

body {
  overflow-x: hidden !important;
  position: relative;
}

/* ===== CONTAINER OVERFLOW FIXES ===== */

/* Main layout containers */
.app-layout,
.app-main,
.content-container {
  overflow-x: hidden !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Sidebar overflow handling */
.app-sidebar {
  overflow-x: hidden !important;
  overflow-y: auto !important;
  scrollbar-width: thin !important;
  scrollbar-color: rgba(0, 255, 255, 0.3) transparent !important;
}

/* ===== CONTENT OVERFLOW FIXES ===== */

/* Card content overflow */
.dashboard-card,
.MuiCard-root {
  overflow: hidden !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
  hyphens: auto !important;
}

.MuiCardContent-root {
  overflow: hidden !important;
  max-width: 100% !important;
}

/* Text overflow handling */
.text-overflow-ellipsis {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.text-overflow-wrap {
  word-wrap: break-word !important;
  word-break: break-word !important;
  overflow-wrap: break-word !important;
  hyphens: auto !important;
}

/* ===== TABLE OVERFLOW FIXES ===== */

/* Responsive table wrapper */
.table-wrapper {
  overflow-x: auto !important;
  overflow-y: visible !important;
  -webkit-overflow-scrolling: touch !important;
  border-radius: var(--radius-lg) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.table-wrapper table {
  min-width: 100% !important;
  width: max-content !important;
  border-collapse: collapse !important;
}

.table-wrapper th,
.table-wrapper td {
  white-space: nowrap !important;
  padding: var(--spacing-sm) var(--spacing-md) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
}

/* Mobile table adjustments */
@media (max-width: 767px) {
  .table-wrapper {
    font-size: var(--font-size-sm) !important;
  }
  
  .table-wrapper th,
  .table-wrapper td {
    padding: var(--spacing-xs) var(--spacing-sm) !important;
  }
}

/* ===== CHART AND GRAPH OVERFLOW FIXES ===== */

/* Chart container responsiveness */
.chart-responsive {
  overflow-x: auto !important;
  overflow-y: visible !important;
  max-width: 100% !important;
  -webkit-overflow-scrolling: touch !important;
}

.chart-responsive > * {
  min-width: 300px !important;
  max-width: 100% !important;
}

/* Recharts specific fixes */
.recharts-responsive-container {
  overflow: visible !important;
}

.recharts-wrapper {
  overflow: visible !important;
}

/* ===== FORM OVERFLOW FIXES ===== */

/* Form container overflow */
.form-container {
  overflow-x: hidden !important;
  max-width: 100% !important;
}

/* Input field overflow */
.MuiTextField-root,
.MuiFormControl-root {
  max-width: 100% !important;
  overflow: hidden !important;
}

.MuiOutlinedInput-root {
  overflow: hidden !important;
}

.MuiInputBase-input {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* ===== NAVIGATION OVERFLOW FIXES ===== */

/* Tab overflow handling */
.MuiTabs-root {
  overflow-x: auto !important;
  overflow-y: visible !important;
  -webkit-overflow-scrolling: touch !important;
}

.MuiTabs-scroller {
  overflow-x: auto !important;
  overflow-y: visible !important;
}

.MuiTabs-flexContainer {
  min-width: max-content !important;
}

/* Button group overflow */
.MuiToggleButtonGroup-root {
  overflow-x: auto !important;
  overflow-y: visible !important;
  -webkit-overflow-scrolling: touch !important;
  flex-wrap: nowrap !important;
}

@media (max-width: 767px) {
  .MuiToggleButtonGroup-root {
    flex-wrap: wrap !important;
  }
}

/* ===== MODAL AND DIALOG OVERFLOW FIXES ===== */

/* Dialog overflow handling */
.MuiDialog-paper {
  overflow-x: hidden !important;
  overflow-y: auto !important;
  max-width: calc(100vw - var(--spacing-lg)) !important;
  max-height: calc(100vh - var(--spacing-lg)) !important;
}

.MuiDialogContent-root {
  overflow-x: hidden !important;
  overflow-y: auto !important;
  word-wrap: break-word !important;
}

/* ===== LIST OVERFLOW FIXES ===== */

/* List container overflow */
.MuiList-root {
  overflow-x: hidden !important;
  overflow-y: auto !important;
  max-width: 100% !important;
}

.MuiListItem-root {
  overflow: hidden !important;
  word-wrap: break-word !important;
}

.MuiListItemText-root {
  overflow: hidden !important;
  min-width: 0 !important;
}

.MuiListItemText-primary,
.MuiListItemText-secondary {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

/* ===== GRID OVERFLOW FIXES ===== */

/* CSS Grid overflow handling */
.dashboard-grid {
  overflow-x: hidden !important;
  max-width: 100% !important;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)) !important;
}

.dashboard-grid > * {
  overflow: hidden !important;
  min-width: 0 !important;
  max-width: 100% !important;
}

/* Flexbox overflow handling */
.flex-container {
  overflow-x: hidden !important;
  max-width: 100% !important;
}

.flex-container > * {
  min-width: 0 !important;
  flex-shrink: 1 !important;
}

/* ===== IMAGE AND MEDIA OVERFLOW FIXES ===== */

/* Image responsiveness */
img,
picture,
video,
canvas,
svg {
  max-width: 100% !important;
  height: auto !important;
  object-fit: contain !important;
}

/* Avatar overflow fixes */
.MuiAvatar-root {
  overflow: hidden !important;
  flex-shrink: 0 !important;
}

/* ===== CUSTOM SCROLLBAR STYLES ===== */

/* Webkit scrollbar styling */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px !important;
  height: 6px !important;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05) !important;
  border-radius: 3px !important;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(0, 255, 255, 0.3) !important;
  border-radius: 3px !important;
  transition: background var(--transition-fast) !important;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 255, 255, 0.5) !important;
}

/* Firefox scrollbar styling */
.custom-scrollbar {
  scrollbar-width: thin !important;
  scrollbar-color: rgba(0, 255, 255, 0.3) rgba(255, 255, 255, 0.05) !important;
}

/* ===== MOBILE SPECIFIC OVERFLOW FIXES ===== */

@media (max-width: 767px) {
  /* Prevent zoom on input focus */
  input,
  textarea,
  select {
    font-size: 16px !important;
  }
  
  /* Mobile viewport fixes */
  .mobile-viewport-fix {
    min-height: 100vh !important;
    min-height: -webkit-fill-available !important;
  }
  
  /* Touch scrolling optimization */
  .touch-scroll {
    -webkit-overflow-scrolling: touch !important;
    overflow-scrolling: touch !important;
  }
  
  /* Prevent horizontal bounce */
  body {
    overscroll-behavior-x: none !important;
  }
}

/* ===== ACCESSIBILITY OVERFLOW FIXES ===== */

/* High contrast mode overflow handling */
@media (prefers-contrast: high) {
  .dashboard-card,
  .MuiCard-root {
    border: 2px solid currentColor !important;
  }
}

/* Reduced motion overflow handling */
@media (prefers-reduced-motion: reduce) {
  .custom-scrollbar {
    scroll-behavior: auto !important;
  }
}

/* ===== UTILITY CLASSES ===== */

/* Force overflow hidden */
.overflow-hidden-force {
  overflow: hidden !important;
}

.overflow-x-hidden-force {
  overflow-x: hidden !important;
}

.overflow-y-hidden-force {
  overflow-y: hidden !important;
}

/* Force overflow auto */
.overflow-auto-force {
  overflow: auto !important;
}

.overflow-x-auto-force {
  overflow-x: auto !important;
}

.overflow-y-auto-force {
  overflow-y: auto !important;
}

/* Max width constraints */
.max-w-full {
  max-width: 100% !important;
}

.max-w-screen {
  max-width: 100vw !important;
}

/* Min width constraints */
.min-w-0 {
  min-width: 0 !important;
}

/* Word break utilities */
.break-words {
  word-wrap: break-word !important;
  word-break: break-word !important;
  overflow-wrap: break-word !important;
}

.break-all {
  word-break: break-all !important;
}

.no-wrap {
  white-space: nowrap !important;
}